(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,a){var n=a(8),o="http://192.168.1.22:9000";t.demo=function(){n.get("http://192.168.1.22:9000/navBar",function(e){return console.log("get request data is: ",e),e})},t.fetchAllPosts=function(e){n.get("".concat(o,"/allPosts"),function(t){console.log("got all the posts ",t),e(t)})},t.fetchAllPersonnel=function(e){n.get("".concat(o,"/allPersonnel"),function(t){console.log("got all the personnel ",t),e(t)})},t.addPersonnel=function(e,t){n.post("".concat(o,"/addPersonnel"),e,function(e){t(e)})},t.addPop=function(e,t){n.post("".concat(o,"/addPop"),e,function(e){t(e)})},t.addPerson=function(e,t){n.post("".concat(o,"/addPerson"),e,function(e){t(e)})},t.updatePosting=function(e,t){n.post("".concat(o,"/updatePosting"),e,function(e){t(e)})},t.updatePromotion=function(e,t){n.post("".concat(o,"/updatePromotion"),e,function(e){t(e)})},t.deletePerson=function(e,t){n.post("".concat(o,"/deletePerson"),{PersonId:e},function(e){t(e)})},t.deletePosting=function(e,t,a){n.post("".concat(o,"/deletePosting"),{PostingId:e,PersonId:t},function(e){a(e)})},t.deletePromotion=function(e,t,a){n.post("".concat(o,"/deletePromotion"),{PromotionId:e,PersonId:t},function(e){a(e)})},t.fetchAllPops=function(e){n.get("".concat(o,"/allPops"),function(t){console.log("got all the pops: ",t),e(t)})},t.setState=function(e){n.get("".concat(o,"/allData"),function(t){console.log("got all the Data: ",t),e(t)})},t.logInUser=function(e,t){n.post("".concat(o,"/logInUser"),e,function(e){t(e)})}},14:function(e,t,a){e.exports=a(26)},19:function(e,t,a){},21:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},22:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(12),r=a.n(l),c=(a(19),a(1)),s=a(13),i=a(2),m=a(3),d=a(5),u=a(4),p=a(6),f=a(9),g=(a(21),a(8)),E=a.n(g),b=(a(22),n.Component,n.Component,n.Component,function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},a.handleTextChange=function(e){return a.setState({value:e.target.value})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"personName"},"Full Name"),o.a.createElement("input",{onChange:function(t){return e.handleTextChange(t)},value:this.state.value,type:"text",className:"form-control",id:"personName"})),o.a.createElement("div",{className:"form-group form-check"},o.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"exampleCheck1"}),o.a.createElement("label",{className:"form-check-label",for:"exampleCheck1"},"Check me out")),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}}]),t}(n.Component)),h=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={value:""},a.handleTextChange=function(e){return a.setState({value:e.target.value})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("form",null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{for:"postName"},"Post Name"),o.a.createElement("input",{onChange:function(t){return e.handleTextChange(t)},value:this.state.value,type:"text",className:"form-control",id:"postName"})),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))}}]),t}(n.Component),v=a(7),P=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={},a.tableHeadings=function(){return a.props.headings.map(function(e){return o.a.createElement("th",{key:e,scope:"col",className:"_id"===e?"hideColumn":""},e)})},a.tableData=function(){var e=1;return a.props.data.map(function(t){return o.a.createElement("tr",{key:e.toString()+"tr"},o.a.createElement("th",{scope:"row",key:e.toString()+"th"},e++),Object.getOwnPropertyNames(t).map(function(a){return o.a.createElement("td",{key:a.toString()+"td"+e.toString(),className:"_id"===a?"hideColumn":""},"date_of_birth"===a||"date_of_joining"===a?v.convertDate(t[a]):t[a])}),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-link"},o.a.createElement("i",{className:"fas fa-edit"}))),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-link",onClick:function(e){return a.props.deletePersonnel(t._id,e)}},o.a.createElement("i",{className:"fas fa-trash-alt"}))))})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",null,this.props.title),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"S.No."),this.tableHeadings())),o.a.createElement("tbody",null,this.tableData())))}}]),t}(n.Component),N=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={childPlace:[],parentPlace:""},a.handleChange=function(e){console.log("the event value is: ",e.target.value);var t=e.target.value,n=a.props.pops.find(function(e){return e._id===t});if(null!=n){var o=n.childOffice;a.setState({parentPlace:e.target.value,childPlace:o})}},a.getPosts=function(){return a.props.posts.map(function(e){return o.a.createElement("option",{key:e.title+"post",value:e._id},e.title)})},a.getPoP_parent=function(){return console.log("pops in modal: ",a.props.pops),a.props.pops.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id,id:e._id},e.title)})},a.getPoP_child=function(){return a.state.childPlace.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id,id:e._id},e.title)})},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"modal fade",id:"formModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"exampleModalLabel"},"Add ",this.props.title),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",{id:"personnelForm"},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-name",className:"col-form-label col-sm-2"},"Full Name"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-name",name:"name"}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"inlineRadio1",className:"col-form-label col-sm-2"},"Sex"),o.a.createElement("div",{className:"col-md-10"},o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"sex",id:"inlineRadio1",value:"male"}),o.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio1"},"Male")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"sex",id:"inlineRadio2",value:"female"}),o.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio2"},"Female")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"sex",id:"inlineRadio3",value:"other"}),o.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio3"},"Other")))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-dob",className:"col-form-label col-sm-2"},"Date of Birth"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-dob",placeholder:"dd/mm/yyyy",name:"date_of_birth"}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-post",className:"col-form-label col-sm-4"},"Post"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"personnel-post",name:"post"},this.getPosts()))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-pop",className:"col-form-label col-sm-4"},"Place of Posting"),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("select",{className:"form-control",id:"personnel-pop",value:this.state.parentPlace,onChange:this.handleChange},o.a.createElement("option",null),this.getPoP_parent())),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("select",{className:"form-control",id:"personnel-pop2",name:"place_of_post"},this.getPoP_child()))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-doj",className:"col-form-label col-sm-2"},"Date of Joining"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-doj",placeholder:"dd/mm/yyyy",name:"date_of_joining"}))))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"closeModal"},"Cancel"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.props.submitForm},"Save")))))}}]),t}(n.Component);a(7);var y=function(e){return o.a.createElement("div",null,o.a.createElement("table",{className:"table table-striped table-sm"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"S.No."),function(){if(console.log("Inside table heading with data",e.data),null!=e.data[0])return Object.getOwnPropertyNames(e.data[0]).map(function(e){return o.a.createElement("th",{key:e,scope:"col",className:"_id"===e?"hideColumn":""},e.replace("_"," "))})}())),o.a.createElement("tbody",null,function(){var t=1;return e.data.map(function(a){return o.a.createElement("tr",{key:t.toString()+"tr"},o.a.createElement("th",{scope:"row",key:t.toString()+"th"},t++),Object.getOwnPropertyNames(a).map(function(e){return o.a.createElement("td",{key:e.toString()+"td"+t.toString(),name:e,className:"_id"===e?"hideColumn":""},a[e])}),o.a.createElement("td",null,o.a.createElement("button",{className:"btn btn-link",onClick:function(t){return e.showRow(e.title,a._id,t)}},o.a.createElement("i",{className:"fas fa-eye"})),o.a.createElement("button",{className:"btn btn-link","ddata-toggle":"modal","data-target":"myModal",onClick:function(t){return e.editRow(e.title,a._id,t)}},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{className:"btn btn-link",onClick:function(t){return e.deleteRow(e.title,a._id,t)}},o.a.createElement("i",{className:"fas fa-trash-alt"}))))})}())),o.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#myModal",id:"showMyModal"},"Add"))},_=a(7),k=a.n(_),C={_id:"_id",Person:"Person",Name:"Name",Date_of_Birth:"Date_of_Birth",Sex:"Sex",setData:function(e){var t;return t=e.map(function(e){return{_id:e._id,Name:e.Name,Post:e.Post,Place_of_Posting:e.Posting}}),console.log("Data set for Person: ",t),t}},D={Pop:"Pop",Name:"Name",Parent_Office:"Parent_Office",_id:"_id",setData:function(e){return e.map(function(e){return Object(c.a)({},D.Name,e.Name)})}},O=(n.Component,function(e){return e.data.map(function(t){return o.a.createElement("a",{className:"nav-link",href:"#",key:t._id,onClick:function(a){return e.sidebarClick(t,a)}},t.Name)})});var j=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-name",className:"col-form-label col-sm-2"},"Office Name"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-name",name:D.Name}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-post",className:"col-form-label col-sm-4"},"Parent Office"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"personnel-post",name:D.Parent_Office},e.data.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.Name)})))))},w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={poj:"",por:"",doj:"",dor:""},a.getParentOffice=function(){return a.props.Pop.filter(function(e){return 3==e.Level}).map(function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.Name)})},a.changePoj=function(e){return a.setState({poj:e.target.value})},a.changePor=function(e){return a.setState({por:e.target.value})},a.changeDoj=function(e){return a.setState({doj:e.target.value})},a.changeDor=function(e){return a.setState({dor:e.target.value})},a.componentDidMount=function(){},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-post",className:"col-form-label col-sm-4"},"Place of Joining"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"personnel-post",name:"Place_of_Joining",value:this.state.poj,onChange:this.changePoj},this.getParentOffice()))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-dor",className:"col-form-label col-sm-4"},"Date of Joining"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-dor",name:"Date_of_Joining",value:this.state.doj,onChange:this.changeDoj}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-poj",className:"col-form-label col-sm-4"},"Place of Relieving"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"personnel-poj",name:"Place_of_Relieving",value:this.state.por,onChange:this.changePor},this.getParentOffice()))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-doj",className:"col-form-label col-sm-4"},"Date of Relieving"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-doj",name:"Date_of_Relieving",value:this.state.dor,onChange:this.changeDor}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("input",{hidden:!0,name:"PersonId",defaultValue:this.props.PersonId})),o.a.createElement("div",{className:"form-group row"},o.a.createElement("input",{hidden:!0,name:"PostingId",defaultValue:this.props.PostingId})))}}]),t}(n.Component),S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={childPlace:[],parentPlace:"",Place_of_Posting:""},a.place_of_posting=function(e){var t=e.target.value;a.setState({Place_of_Posting:t})},a.handleChange=function(e){console.log("the event value is: ",e.target.value);var t=e.target.value;console.log("the pops in Person Modal are: ",a.props.Pop);var n=a.props.Pop.filter(function(e){return console.log("the parent.office.id, and parentid",e.Parent_Office._id,t),e.Parent_Office._id==t});console.log("the child place is: ",n),a.setState({parentPlace:e.target.value,childPlace:n})},a.getPosts=function(){return a.props.Post.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.Name)})},a.getPoP_parent=function(){return console.log("pops in modal: ",a.props.Pop),a.props.Pop.filter(function(e){return"Central Bureau of Narcotics"===e.Parent_Office.Name}).map(function(e){return o.a.createElement("option",{key:e._id,value:e._id,id:e._id},e.Name)})},a.getPoP_child=function(){return console.log("This.state.childPlace is: ",a.state.childPlace),a.state.childPlace.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id,id:e._id},e.Name)})},a.historyPosting=function(){a.props.Posting.map(function(e){return o.a.createElement("div",null,o.a.createElement("th",{scope:"row",key:e._id+"PlaceRelieving"},o.a.createElement("select",{className:"form-control",name:"Place_of_Posting",value:a.state.Place_of_Relieving},a.placeOfRelieving())),o.a.createElement("th",{scope:"row",key:e._id+"DateRelieving"},o.a.createElement("input",{className:"form-control",type:"text",name:"Date_of_Relieving"})))})},a.historyPromotion=function(){return o.a.createElement("div",null)},a.placeOfRelieving=function(){return o.a.createElement("div",null)},a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-name",className:"col-form-label col-sm-2"},"Full Name"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-name",name:"Name"}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"inlineRadio1",className:"col-form-label col-sm-2"},"Sex"),o.a.createElement("div",{className:"col-md-10"},o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"Sex",id:"inlineRadio1",value:"Male",defaultChecked:!0}),o.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio1"},"Male")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"Sex",id:"inlineRadio2",value:"Female"}),o.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio2"},"Female")),o.a.createElement("div",{className:"form-check form-check-inline"},o.a.createElement("input",{className:"form-check-input",type:"radio",name:"Sex",id:"inlineRadio3",value:"Other"}),o.a.createElement("label",{className:"form-check-label",htmlFor:"inlineRadio3"},"Other")))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-dob",className:"col-form-label col-sm-2"},"Date of Birth"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-dob",placeholder:"dd/mm/yyyy",name:"Date_of_Birth"}))))}}]),t}(n.Component);var I=function(e){var t=function(){return e.Post.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.Name)})};return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"promotionFrom",className:"col-form-label col-sm-4"},"Promotion From"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"promotionFrom",name:"Promotion_From"},t()))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"promotionTo",className:"col-form-label col-sm-4"},"Promotion To"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"promotionTo",name:"Promotion_To"},t()))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-dop",className:"col-form-label col-sm-2"},"Date of Promotion"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-dop",name:"Date_of_Promotion"}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-pdoj",className:"col-form-label col-sm-2"},"Date of Joining"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-pdoj",name:"Date_of_Joining"}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-cat",className:"col-form-label col-sm-4"},"Category"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"personnel-cat",name:"Category"},e.Category1.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.Name)})))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-cats",className:"col-form-label col-sm-4"},"Category Selected"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"personnel-cats",name:"Category_Selected"},e.Category2.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.Name)})))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-catsp",className:"col-form-label col-sm-4"},"Category Special"),o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("select",{className:"form-control",id:"personnel-catsp",name:"Category_Special"},e.Category3.map(function(e){return o.a.createElement("option",{key:e._id,value:e._id},e.Name)})))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("input",{hidden:!0,name:"PersonId",value:e.PersonId})),o.a.createElement("div",{className:"form-group row"},o.a.createElement("input",{hidden:!0,name:"PromotionId",value:e.PromotionId})))},M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={},a.PersonName=function(){return a.props.Person.find(function(e){return e._id==a.props.PersonId}).Name},a.DateOfBirth=function(){return a.props.Person.find(function(e){return e._id==a.props.PersonId}).Date_of_Birth.substr(0,10)},a.Gender=function(){return a.props.Person.find(function(e){return e._id==a.props.PersonId}).Sex},a.Post=function(){return a.props.Person.find(function(e){return e._id==a.props.PersonId}).Post},a.Posting=function(){return a.props.Person.find(function(e){return e._id==a.props.PersonId}).Posting},a.Category=function(){return a.props.Person.find(function(e){return e._id==a.props.PersonId}).Category},a.Category_Selected=function(){return a.props.Person.find(function(e){return e._id==a.props.PersonId}).Category_Selected},a.Category_Special=function(){return a.props.Person.find(function(e){return e._id==a.props.PersonId}).Category_Special},a.historyOfPosting=function(){var e=a.props.Posting.filter(function(e){return e.PersonId===a.props.PersonId});console.log("Posting is: ",e);var t=1;return e.map(function(e){return o.a.createElement("tr",{key:e._id+"tr"},o.a.createElement("th",{scope:"row",key:e._id+"th"},t++),o.a.createElement("td",{key:e._id+"por"},e.Place_of_Joining.Name),o.a.createElement("td",{key:e._id+"dor"},e.Date_of_Joining.substr(0,10)),o.a.createElement("td",{key:e._id+"poj"},e.Place_of_Relieving.Name),o.a.createElement("td",{key:e._id+"doj"},e.Date_of_Relieving.substr(0,10)),o.a.createElement("td",{key:e._id+"dur"},k.a.duration(e.Date_of_Joining,e.Date_of_Relieving)),o.a.createElement("td",{key:e._id+"edit"},o.a.createElement("button",{className:"btn btn-link","data-toggle":"modal","data-target":"#myModal",onClick:function(t){return a.props.PostingModal(a.props.PersonId,e._id,t)}},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{className:"btn btn-link",onClick:function(t){return a.props.DeletePosting(a.props.PersonId,e._id,t)}},o.a.createElement("i",{className:"fas fa-trash-alt"}))))})},a.historyOfPromotion=function(){var e=a.props.Promotion.filter(function(e){return e.PersonId===a.props.PersonId});console.log("Promotion is: ",e);var t=1;return e.map(function(e){return o.a.createElement("tr",{key:e._id+"tr"},o.a.createElement("th",{scope:"row",key:e._id+"th"},t++),o.a.createElement("td",{key:e._id+"por"},e.Promotion_From.Name),o.a.createElement("td",{key:e._id+"poj"},e.Promotion_To.Name),o.a.createElement("td",{key:e._id+"dor"},e.Date_of_Promotion.substr(0,10)),o.a.createElement("td",{key:e._id+"doj"},e.Date_of_Joining.substr(0,10)),o.a.createElement("td",{key:e._id+"cat1"},e.Category.Name),o.a.createElement("td",{key:e._id+"cat2"},e.Category_Selected.Name),o.a.createElement("td",{key:e._id+"cat3"},e.Category_Special.Name),o.a.createElement("td",{key:e._id+"edit"},o.a.createElement("button",{className:"btn btn-link","data-toggle":"modal","data-target":"#myModal",onClick:function(t){return a.props.PromotionModal(a.props.PersonId,e._id,t)}},o.a.createElement("i",{className:"fas fa-edit"})),o.a.createElement("button",{className:"btn btn-link",onClick:function(t){return a.props.DeletePromotion(a.props.PersonId,e._id,t)}},o.a.createElement("i",{className:"fas fa-trash-alt"}))))})},a.Person=e.Person.find(function(e){return e._id==a.props.PersonId}),a}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("dl",{className:"row"},o.a.createElement("dt",{className:"col-sm-3"},"Full Name"),o.a.createElement("dd",{className:"col-sm-9"},this.PersonName()),o.a.createElement("dt",{className:"col-sm-3"},"Date of Birth"),o.a.createElement("dd",{className:"col-sm-9"},this.DateOfBirth()),o.a.createElement("dt",{className:"col-sm-3"},"Gender"),o.a.createElement("dd",{className:"col-sm-9"},this.Gender()),o.a.createElement("dt",{className:"col-sm-3"},"Post"),o.a.createElement("dd",{className:"col-sm-9"},this.Post()),o.a.createElement("dt",{className:"col-sm-3"},"Place of Posting"),o.a.createElement("dd",{className:"col-sm-9"},this.Posting()),o.a.createElement("dt",{className:"col-sm-3"},"Category"),o.a.createElement("dd",{className:"col-sm-9"},this.Category()),o.a.createElement("dt",{className:"col-sm-3"},"Category Selected"),o.a.createElement("dd",{className:"col-sm-9"},this.Category_Selected()),o.a.createElement("dt",{className:"col-sm-3"},"Category Special"),o.a.createElement("dd",{className:"col-sm-9"},this.Category_Special())),o.a.createElement("hr",null),o.a.createElement("h3",null,"History of Posting"),o.a.createElement("div",{className:"form-group"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"#"),o.a.createElement("th",{scope:"col"},"Place of Joining"),o.a.createElement("th",{scope:"col"},"Date of Joining"),o.a.createElement("th",{scope:"col"},"Place of Relieving"),o.a.createElement("th",{scope:"col"},"Date of Relieving"),o.a.createElement("th",{scope:"col"},"Duration"),o.a.createElement("th",{scope:"col"}))),o.a.createElement("tbody",null,this.historyOfPosting())),o.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#myModal",onClick:function(t){return e.props.PostingModal(e.props.PersonId,"",t)}},"Add Row")),o.a.createElement("hr",null),o.a.createElement("h3",null,"History of Promotion"),o.a.createElement("div",{className:"form-group"},o.a.createElement("table",{className:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"#"),o.a.createElement("th",{scope:"col"},"Promotion From"),o.a.createElement("th",{scope:"col"},"Promotion To"),o.a.createElement("th",{scope:"col"},"Date of Promotion"),o.a.createElement("th",{scope:"col"},"Date of Joining"),o.a.createElement("th",{scope:"col"},"Category"),o.a.createElement("th",{scope:"col"},"Category Selected"),o.a.createElement("th",{scope:"col"},"Category Special"),o.a.createElement("th",{scope:"col"}))),o.a.createElement("tbody",null,this.historyOfPromotion())),o.a.createElement("button",{className:"btn btn-secondary","data-toggle":"modal","data-target":"#myModal",onClick:function(t){return e.props.PromotionModal(e.props.PersonId,"",t)}},"Add Row")),o.a.createElement("hr",null),o.a.createElement("h3",null,"Additional Information"))}}]),t}(n.Component);var F=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-document",className:"col-form-label col-sm-2"},"Document"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"file",className:"form-control-file",id:"personnel-document",name:"File"}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-fn",className:"col-form-label col-sm-2"},"File Name"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-fn",name:"Name"}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"hidden",className:"form-control",id:"personnel-id",name:"_id",value:e.data._id}))))};a(24);var x=function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"container-fluid heading"},o.a.createElement("div",{className:"heading1"},"Central Bureau of Narcotics"),o.a.createElement("div",{className:"heading2"},"Establishment Section")),o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},o.a.createElement("a",{className:"navbar-brand",href:"http://192.168.1.22:9000"},"Home"),o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},o.a.createElement("ul",{className:"navbar-nav mr-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{type:"button",className:"btn btn-link nav-link",onClick:function(t){return e.navBarClick("Documents",t)}},"Documents")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{id:"navBarDatabase",type:"button",className:"btn btn-link nav-link",onClick:function(t){return e.navBarClick("Database",t)}},"Database")),o.a.createElement("li",{className:"nav-item"},o.a.createElement("button",{className:"nav-link btn btn-link",href:"#"},"Edit"))),o.a.createElement("div",{className:"d-flex flex-row-reverse"},o.a.createElement("button",{className:"btn btn-primary nav-item","data-toggle":"modal","data-target":"#authModal"},o.a.createElement("span",null,e.auth.logInBtnText())),o.a.createElement("span",{className:"navbar-text mx-2"},e.auth.logInMsg())))),o.a.createElement("div",{className:"container-fluid"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col side-bar"},o.a.createElement("div",{id:"sideBar"},o.a.createElement("nav",{className:"nav flex-column"},e.Sidebar()," "))),o.a.createElement("div",{className:"col-10"},o.a.createElement("div",{id:"contentPage"},o.a.createElement("div",{className:"d-flex flex-row"},o.a.createElement("h2",null,e.ContentPageTitle),o.a.createElement("button",{className:"btn btn-link",onClick:e.GoBack},e.BackButtonText)),e.ContentPage()," "),o.a.createElement("div",{className:"modal fade",id:"myModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},o.a.createElement("div",{className:"modal-content",id:"modalPage"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"myModalLabel"},e.ModalTitle()),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",{id:"modalForm",action:e.ModalAction(),method:"post",encType:"multipart/form-data"},e.ModalForm())),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"closeModal"},"Cancel"),o.a.createElement("button",{type:"button",className:"btn btn-primary",id:"modalFormSubmitBtn",onClick:function(t){return e.submitForm(e.ModalAction,t)}},"Save"))))),o.a.createElement("div",{className:"modal fade",id:"authModal",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("div",{className:"modal-header"},o.a.createElement("h5",{className:"modal-title",id:"exampleModalCenterTitle"},"Log In"),o.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},o.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("form",{id:"authForm"},o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-userId",className:"col-form-label col-sm-2"},"User Id"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"text",className:"form-control",id:"personnel-userId",name:"UserId"}))),o.a.createElement("div",{className:"form-group row"},o.a.createElement("label",{htmlFor:"personnel-password",className:"col-form-label col-sm-2"},"Password"),o.a.createElement("div",{className:"col-sm-10"},o.a.createElement("input",{type:"password",className:"form-control",id:"personnel-password",name:"Password"}))))),o.a.createElement("div",{className:"modal-footer"},o.a.createElement("p",{className:"text-danger"},e.auth.validationText()),o.a.createElement("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",id:"authModalClose"},"Close"),o.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.auth.submitForm},"Log In")))))))))},R=a(11),B=function(e){function t(e){var a,n;return Object(i.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).func={Sidebar:function(){switch(n.state.SidebarDisplay){case"Database":return o.a.createElement(O,Object.assign({data:n.state.SidebarList.filter(function(e){return"Database"===e.Parent})},n.func));case"Documents":return o.a.createElement(O,Object.assign({data:n.state.SidebarList.filter(function(e){return"Documents"===e.Parent})},n.func))}},ContentPage:function(){switch(n.state.ContentPageDisplay){case"PersonList":return o.a.createElement(y,Object.assign({data:k.a.setPerson(n.state.Person)},n.func));case"PlaceList":return o.a.createElement(y,Object.assign({data:D.setData(n.state[D.Pop])},n.func));case"DocumentList":var e=n.state.Document.filter(function(e){return n.state.SidebarClickItem._id==e.Parent._id}).map(function(e){return{Name:e.Name,_id:e._id}});return o.a.createElement(y,Object.assign({data:e},n.func));case"EditPerson":return o.a.createElement(M,Object.assign({},n.state,n.func))}return o.a.createElement("div",null)},ModalTitle:function(){switch(n.state.ModalDisplay){case"AddPerson":return"Add Person";case"AddPlace":return"Add Place of Posting";case"AddDocument":return"Upload Document";case"PostingModal":return"Add History of Posting";case"PromotionModal":return"Add History of Promotion"}},ModalAction:function(){return"AddDocument"===n.state.ModalDisplay?"http://192.168.1.22:9000/UploadDocument":"#"},ModalForm:function(){switch(n.state.ModalDisplay){case"AddPerson":return o.a.createElement(S,Object.assign({},n.state,n.func));case"AddPlace":return o.a.createElement(j,Object.assign({data:n.state[D.Pop]},n.func));case"AddDocument":return o.a.createElement(F,Object.assign({data:n.state.SidebarClickItem},n.func));case"PostingModal":return o.a.createElement(w,Object.assign({},n.state,n.func));case"PromotionModal":return o.a.createElement(I,Object.assign({},n.state,n.func))}},navBarClick:function(e,t){var a;switch(console.log("Something Clicked in navBar"),e){case"Database":case"Documents":a=e}n.setState({SidebarDisplay:a,BackButtonText:"<<Back"})},sidebarClick:function(e,t){var a,o,l,r;if("Database"===e.Parent)switch(e.Name){case"Place of Posting":a="PlaceList",o="Place of Posting",l=e,r="AddPlace";break;case"Person":a="PersonList",o="Person",l=e,r="AddPerson"}"Documents"===e.Parent&&(a="DocumentList",o=e.Name,l=e,r="AddDocument"),n.setState({ContentPageDisplay:a,ContentPageTitle:o,SidebarClickItem:l,ModalDisplay:r})},GoBack:function(){var e,t,a,o;switch(n.state.ContentPageDisplay){case"EditPerson":e="PersonList",t="Person",a="AddPerson",o="Database";break;default:return}n.setState({ContentPageDisplay:e,ContentPageTitle:t,ModalDisplay:a,SidebarDisplay:o})},ChangeModal:function(){},validateDate:function(){var e=E()("#modalForm").serializeArray();console.log("Form data is: ",e);var t=!0;return e.forEach(function(e){-1!=e.name.search("Date")&&""!=e.value&&((t=k.a.validateDate(e.value))?e.value=t:alert("".concat(e.name," is not valid Date")))}),!!t&&e},submitForm:function(e,t){var a;switch(n.state.ModalDisplay){case"AddDocument":return k.a.validateUser("ADMIN",n.state.Role)?void E()("#modalForm").submit():(document.getElementById("closeModal").click(),void alert("Not Authorised! Please Login."));case"AddPerson":if(!(a=n.func.validateDate()))return;R.addPerson(a,function(e){var t=e;n.setState({Person:t})});break;case"AddPlace":if(!(a=n.func.validateDate()))return;R.addPop(a,function(e){var t=e;n.setState({Pop:t})});break;case"PostingModal":if(!(a=n.func.validateDate()))return;R.updatePosting(a,function(e){var t=e.Posting,a=e.Person;n.setState({Posting:t,Person:a})});break;case"PromotionModal":if(!(a=n.func.validateDate()))return;R.updatePromotion(a,function(e){var t=e.Promotion,a=e.Person;n.setState({Promotion:t,Person:a})});break;default:return}document.getElementById("closeModal").click()},showRow:function(e,t,a){switch(n.state.ContentPageDisplay){case"Person":break;case"DocumentList":var o=n.state.Document.find(function(e){return e._id===t});if(null==o)return;var l=o.Path;window.open("http://192.168.1.22:9000/getDocument?Path=".concat(l));break;default:console.log("th display is: ",n.state.ContentPageDisplay)}},editRow:function(e,t,a){switch(console.log("Editing rows"),n.state.ContentPageDisplay){case"PersonList":var o=t;n.setState({PersonId:o,ContentPageDisplay:"EditPerson",ContentPageTitle:"Edit Person",SidebarDisplay:""}),console.log("the Personid is: ",o);break;default:console.log("the title is: ",n.state.ContentPageTitle)}},deleteRow:function(e,t,a){switch(n.state.ContentPageTitle){case"Person":if(!k.a.validateUser("ADMIN",n.state.Role))return void alert("Not authorised to delete! Please Login");R.deletePerson(t,function(e){var t=e;n.setState({Person:t})})}},DeletePosting:function(e,t,a){k.a.validateUser("HOP",n.state.Role)?R.deletePosting(t,e,function(e){var t=e.Posting,a=e.Person;n.setState({Posting:t,Person:a}),document.getElementById("closeModal").click()}):alert("Not authorised to delete! Please Login")},DeletePromotion:function(e,t,a){k.a.validateUser("HOP",n.state.Role)?R.deletePromotion(t,e,function(e){var t=e.Promotion,a=e.Person;n.setState({Promotion:t,Person:a}),document.getElementById("closeModal").click()}):alert("Not authorised to delete! Please Login")},PostingModal:function(e,t,a){n.setState({ModalDisplay:"PostingModal",PostingId:t})},PromotionModal:function(e,t,a){n.setState({ModalDisplay:"PromotionModal",PromotionId:t})},auth:{logInBtnText:function(){return"Log In"},logInMsg:function(){return n.state.LogInMsg},submitForm:function(){var e=E()("#authForm").serializeArray();R.logInUser(e,function(e){if(!e){return n.setState({InputValidationMsg:"Incorrect UserId/Password"}),!1}var t=e.Role,a=e.UserId,o="Welcome "+a;n.setState({Role:t,UserId:a,LogInMsg:o}),document.getElementById("authModalClose").click()});console.log("login form is: ",e)},validationText:function(){return n.state.InputValidationMsg}}},n.documentClick=function(e,t,a){if("show"===e){console.log("Showing document");var o=n.state.Document.find(function(e){return e._id===t});if(console.log("the elt is: ",o),null==o)return;var l=o.Path;console.log("the path is:",l),window.open("http://192.168.1.22:9000/getDocument?Path=".concat(l))}},n.componentDidMount=function(){R.setState(function(e){console.log("Ready to set the state with data: ",e),n.setState(Object(s.a)({},e))})},n.componentDidUpdate=function(){console.log("The state is: ",n.state)},n.state=(a={},Object(c.a)(a,D.Pop,[]),Object(c.a)(a,C.Person,[]),Object(c.a)(a,"SidebarList",[]),Object(c.a)(a,"sideBar",o.a.createElement("div",null)),Object(c.a)(a,"SidebarKey",""),Object(c.a)(a,"ContentPage",o.a.createElement("div",null)),Object(c.a)(a,"Modal",{title:"",action:"",form:o.a.createElement("div",null)}),Object(c.a)(a,"Document",[]),Object(c.a)(a,"Posting",[]),Object(c.a)(a,"Promotion",[]),Object(c.a)(a,"InputValidationMsg",""),Object(c.a)(a,"Role",[]),Object(c.a)(a,"UserId",""),Object(c.a)(a,"LogInMsg",""),Object(c.a)(a,"ContentPageDisplay",""),Object(c.a)(a,"ContentPageTitle",""),Object(c.a)(a,"ModalDisplay",""),Object(c.a)(a,"SidebarDisplay",""),Object(c.a)(a,"SidebarClickItem",{}),Object(c.a)(a,"PersonId",""),Object(c.a)(a,"PostingId",""),Object(c.a)(a,"PromotionId",""),Object(c.a)(a,"BackButtonText",""),Object(c.a)(a,"currentDisplay",Object(c.a)({name:"",data:[],posts:[]},D.Pop,[])),Object(c.a)(a,"contentPage",{title:"",personnel:[],posts:[],pops:[]}),Object(c.a)(a,"navBar",[]),a),n.navBarClick=n.navBarClick.bind(Object(f.a)(Object(f.a)(n))),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"navBarClick",value:function(){}},{key:"render",value:function(){return o.a.createElement(x,Object.assign({},this.state,this.func))}}]),t}(n.Component);n.Component,n.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(11);r.a.render(o.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},7:function(e,t){t.convertFields=function(e){var t=e.split("_").map(function(e){return e.toUpperCase()}),a="";return t.forEach(function(e){return a=a+e+" "}),a},t.convertDate=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,o=t.getDate();return"Invalid Date"==t?"":"".concat(o.toString(),"/").concat(n.toString(),"/").concat(a.toString())},t.validateDate=function(e){var t=e.split(".");if(3!==t.length&&3!==(t=e.split("/")).length&&3!==(t=e.split("-")).length)return!1;t[2]<25&&(t[2]="20".concat(t[2]));var a=new Date(t[2],t[1]-1,t[0],12);return console.log("final date is: ",a),"Invalid Date"!=a&&a},t.hideColumn=function(e,t){if(null!=t&&t!==[]&&null!=e&&""!==e)return t.find(function(t){return e===t})?"hideColumn":""},t.validateUser=function(e,t){return-1!=t.indexOf(e)},t.setPerson=function(e){var t;return t=e.map(function(e){return{_id:e._id,Name:e.Name,Post:e.Post,Place_of_Posting:e.Posting}}),console.log("Data set for Person: ",t),t},t.duration=function(e,t){return((new Date(t)-new Date(e))/864e5).toString()+" Days"},t.removeUnderlines=function(e){},t.sidebarButtons=function(e){}}},[[14,2,1]]]);
//# sourceMappingURL=main.e48fb787.chunk.js.map